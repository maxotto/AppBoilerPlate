# Решения про проектировании
## Построение меню
Меню описывается иерархической структурой вида
```
    menu: {
        place: 'leftSideBar',
        items: [
            {
                title: 'user menu',
                items: [
                    { icon: 'fa-info', text: 'Test Page', route: '/test' },
                    { icon: 'fa-history', text: 'History', route: '/test1' }
                ]
            },
            {
                title: 'Second',
                items: [
                    { icon: 'fa-user', text: 'Most Popular', route: '/test2' },
                    { icon: 'fa-history', text: 'History11', route: '/test3' }
                ]
            }

        ]
    }
```
Параметр **place** указывает на место в интерфейсе клиента, где будет располагаться данное меню.

Список **items** первого уровня определяет группировку пунктов меню внутри подзаголовка.

Параметр **title** - это позаголовок. 

Параметр **items** на этом уровне - это список пунктов меню, которые будут отображаться.
Для них задаются:
1. icon - в терминах font-awesome
2. text - наименование пункта меню
3. route - маршрут пункта меню в терминах клиентской части

Если параметр **title** для подзаголовка не указан, то соответствующая группа должна отражаться в общем списке меню, без подзаголовка. Это решается (должно решаться) на клиентской части.

Меню идет на клиентскую часть по запросу graphql. При построении меню пользователя анализируется список разрешений компонета **accesscontrol**   

Для того, чтобы на клиента отдавать меню точно соответствующее его правам, мы делаем ресурсы в **accesscontrol** синхронными с параметром **route** меню.

Для незалогированного пользователя на сервере в переменную **me** записываем не **null**, а  структуру, где в поле ***role** стоит *GUEST*.

